<!DOCTYPE html>
<html>
<head>
    <title>JavaScript Test</title>
    <style type="text/css">
        #container {
            margin-top: 30pt;
        }
        button {
            background-color: gray;
            border: none;
            padding: 10pt;
            font-size: 20pt;
            width: 100%;
        }
    </style>
    <!-- FaceBook -->
	<meta property="fb:app_id" content="2428005600553990" />
	<meta property="og:title" content="한돈 목살 구이용 1.5CM(2KG*5EA)" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://m.meatsolution.co.kr/goods/view/G000059745" />
	<meta property="og:site_name" content="미트솔루션" />
	<meta property="og:description" content="" />
	<meta property="og:image" content="https://img.meatsolution.co.kr/images/goods/G000059745/G000059745_1.jpg" />
	<meta property="og:image:url" content="https://img.meatsolution.co.kr/images/goods/G000059745/G000059745_1.jpg" />
	<meta property="og:image:type" content="image/jpeg" />
	<meta property="og:image:width" content="375" />
	<meta property="og:image:height" content="375" />


    <script type="text/javascript">
        function initNative() {
            bind()
        }
        
        function logCustomEvent() {
			if(navigator.userAgent.indexOf('Android') > -1){
				var message = "{properties: {propertieName1: value1,propertieName2: value2,propertieName3: value3}}";
				// var obj = JSON.stringify(aaaa);
				window.AppJSInterface.logCustomEvent('testLogAndroid', message);
			} else {
				var message = {
		            'func' : 'logCustomEvent',
					'eventName': 'testLogCustom',
					'properties': {
						'propertieName1': 'value1',
						'propertieName2': 'value2',
						'propertieName3': 'value3'
					}
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }
    
        function setCustomAttributeWithKey() {
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('testCustomAttributeAndroid', 'testValue');
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
					'attributeName' : 'testCustomAttribute',
					'value' : 'testValue'
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }
    
        function logPurchase() {
	        if(navigator.userAgent.indexOf('Android') > -1){
	        	var message = "{properties: {propertieName1: value1,propertieName2: value2,propertieName3: value3}}";
				window.AppJSInterface.logPurchase('productID', 'KRW', '10000', message);
			} else {
				var message = {
		            'func' : 'logPurchase',
					'productID': 'testProduct',
					'currency': '1',
					'price': '10000',
					'properties': {
						'propertieName1': 'value1',
						'propertieName2': 'value2',
						'propertieName3': 'value3'
					}
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function setCustomAttributeWithString() {
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('STRING', 'testCustomAttributeAndroid', 'testValue');
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'STRING',
					'attributeName' : 'testCustomAttribute',
					'value' : 'testValue'
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function setCustomAttributeWithInteger() {
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('INTEGER', 'testCustomAttributeAndroid', '1000');
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'INTEGER',
					'attributeName' : 'testCustomAttribute',
					'value' : 1000
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function setCustomAttributeWithBool() {
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('BOOL', 'testCustomAttributeAndroid', 'true');
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'BOOL',
					'attributeName' : 'testCustomAttribute',
					'value' : true
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        // String 형태의 값만 처리가 가능합니다.(Android Array 처리 값이 String 배열로 이루어져 있습니다.)
        function setCustomAttributeWithArray() {
        	var data = "[aaaa, cccc, 1, 2, 1.234]";
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('ARRAY', 'testCustomAttributeAndroid', data);
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'ARRAY',
					'attributeName' : 'testCustomAttribute',
					'value' : data
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function setCustomAttributeWithDate() {

			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('DATE', 'testCustomAttributeAndroid', new String(Date.now()));
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'DATE',
					'attributeName' : 'testCustomAttribute',
					'value' : Date.now()
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function setCustomAttributeWithDouble() {
			if(navigator.userAgent.indexOf('Android') > -1){
				var test = new Object(test);
				window.AppJSInterface.setCustomAttributeWithKey('DOUBLE', 'testCustomAttributeAndroid', '1.234');
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'DOUBLE',
					'attributeName' : 'testCustomAttribute',
					'value' : 1.234
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function addToCustomAttributeArray() {
        	// 
        	// 중요 : Add Value 값은 반드시 String 으로 넘겨야 합니다.
        	//
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('ADD_ARRAY', 'testCustomAttributeAndroid', 'Test');
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'ADD_ARRAY',
					'attributeName' : 'testCustomAttribute',
					'value' : 'Test'
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function removeFromCustomAttributeArray() {
        	// 
        	// 중요 : Remove Value 값은 반드시 String 으로 넘겨야 합니다.
        	//
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.setCustomAttributeWithKey('REMOVE_ARRAY', 'testCustomAttributeAndroid', 'Test');
			} else {
				var message = {
		            'func' : 'setCustomAttributeWithKey',
		            'type' : 'REMOVE_ARRAY',
					'attributeName' : 'testCustomAttribute',
					'value' : 'Test'
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function inAppMessage() {
			if(navigator.userAgent.indexOf('Android') > -1){
				var value = "Y";
				var message = "{value:" + value +"}";
				window.AppJSInterface.logCustomEvent('member_join_induce', message);
			} else {
				var message = {
		            'func' : 'logCustomEvent',
					'eventName': 'member_join_induce',
					'properties': {
						'value': 'Y',
						'propertieName2': 'value2',
						'propertieName3': 'value3'
					}
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function googleLogin() {
			if(navigator.userAgent.indexOf('Android') > -1){
				window.AppJSInterface.googleLogin('/sns/callbackGoogle', 'login');
			} else {
				var message = {
		            'func' : 'googleLogin',
		            'callbackUrl' : '/sns/callbackGoogle',
					'type' : 'login'
				};
	            window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }
    
        function returnFunction(text) {
            alert('(Web)returnFunction() :\n' + text);
        }

        function test() {
        	if(navigator.userAgent.indexOf('Android') > -1) {
				var message = "{properties: {'goodsId': 'G000059563', 'addCartDtm': '" + new Date() + "'}}";
				window.AppJSInterface.logCustomEvent('add_cart', message);
			} else {
				var message = {
						'func' : 'logCustomEvent',
						'eventName': 'add_cart',
						'properties': {
						'goodsId': 'G000059563',
						'addCartDtm': new Date()
					}
				};
				window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function schemeAppLink() {
        	if(navigator.userAgent.indexOf('Android') > -1) {
				location.href = 'fresh-meatsolution://default?type=app&link=https://m.naver.com';
			} else {
				window.location.href = 'fresh-meatsolution://default?type=app&link=https://m.naver.com';
			}	
        }

        function schemeLink() {
        	if(navigator.userAgent.indexOf('Android') > -1) {
				location.href = 'fresh-meatsolution://default?type=page&link=https://m.naver.com';
			} else {
				window.location.href = 'fresh-meatsolution://default?type=page&link=https://m.naver.com';
			}		
        }

        function schemeDownload() {
        	if(navigator.userAgent.indexOf('Android') > -1) {
				location.href = 'fresh-meatsolution://default?type=download&link=https://movie.naver.com/movie/bi/mi/mediaView.nhn?code=169637&mid=43003';
			} else {
				window.location.href = 'fresh-meatsolution://default?type=download&link=https://post-phinf.pstatic.net/MjAxOTA3MTFfNDkg/MDAxNTYyODE4ODc4Nzcy.tndnyWyvhamduckfl1V-rFnJ7dzZkrJ8xi8Vf9iQzFMg.DVv138OzThvHAWxnAxFUh4EEZFP31zSsfIifMcPvdeUg.JPEG/악가무_동양고주파_틈.jpg?type=w1200';
			}	
        }

        function shareFacebookLink() {
        	if(navigator.userAgent.indexOf('Android') > -1) {
				var message = "{properties: {'goodsId': 'G000059563', 'addCartDtm': '" + new Date() + "'}}";
				window.AppJSInterface.shareFacebookLink('https://post-phinf.pstatic.net/MjAxOTA3MTFfNDkg/MDAxNTYyODE4ODc4Nzcy.tndnyWyvhamduckfl1V-rFnJ7dzZkrJ8xi8Vf9iQzFMg.DVv138OzThvHAWxnAxFUh4EEZFP31zSsfIifMcPvdeUg.JPEG/악가무_동양고주파_틈.jpg?type=w1200');
			} else {
				var message = {
		            'func' : 'shareFacebookLink',
		            'link' : 'https://post-phinf.pstatic.net/MjAxOTA3MTFfNDkg/MDAxNTYyODE4ODc4Nzcy.tndnyWyvhamduckfl1V-rFnJ7dzZkrJ8xi8Vf9iQzFMg.DVv138OzThvHAWxnAxFUh4EEZFP31zSsfIifMcPvdeUg.JPEG/악가무_동양고주파_틈.jpg?type=w1200'
				};
				window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}	
		}

        function test() {
        	FB.ui({
			  method: 'share_open_graph',
			  action_type: 'og.shares',
			  action_properties: JSON.stringify({
			    object:'https://mdev.meatsolution.co.kr/goods/indexGoodsDetail?goodsId=G000054850',
			    redirect_uri:'https://mdev.meatsolution.co.kr/goods/indexGoodsDetail?goodsId=G000054850',
			  })
			}, function(response){
			  // Debug response (optional)
			if (response && !response.error_message) {
				alert('Posting completed.');
			} else {
			alert('Error while posting.');
		    }
			});
        }

        function copy() {
        	if(navigator.userAgent.indexOf('Android') > -1) {
				window.AppJSInterface.textCopy('copy text');
			} else {
				var message = {
		            'func' : 'textCopy',
		            'copy' : 'copy text'
				};
				window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}	
        }

        function historyBack() {
        	if(navigator.userAgent.indexOf('Android') > -1) {
				window.AppJSInterface.historyBack();
			} else {
				var message = {
		            'func' : 'historyBack'
				};
				window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}	
        }

        function checkUploadImage() {
        	if(navigator.userAgent.indexOf('iOS') > -1) {
                var message = {
                    'func' : 'checkUploadImage'
                };
                window.webkit.messageHandlers.AppJSInterface.postMessage(message);
			}
        }

        function selectUploadImage(image) {
        	document.getElementById("imgUploadImage").src = image
        }
    
        function iosUploadImage() {
            alert("Permission Complete.\nFile Upload")
        }

        function appCall() {
        	window.location.href = "colorTailor://"
        }
    </script>
</head>
<body>
	<script>
		window.fbAsyncInit = function() {
		FB.init({
  			appId            : '454955245297165',
  			autoLogAppEvents : true,
  			xfbml            : true,
  			version          : 'v3.3'
			});
		};
	</script>
	<script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>

    <button onclick='logCustomEvent();'>logCustomEvent()</button><br>
    <button onclick='setCustomAttributeWithKey();' style='margin-top: 10px'>setCustomAttributeWithKey()</button><br>
    <button onclick='logPurchase();' style='margin-top: 10px'>logPurchase()</button><br>
    <button onclick='setCustomAttributeWithString();' style='margin-top: 10px'>setCustomAttributeWithString()</button><br>
    <button onclick='setCustomAttributeWithInteger();' style='margin-top: 10px'>setCustomAttributeWithInteger()</button><br>
    <button onclick='setCustomAttributeWithBool();' style='margin-top: 10px'>setCustomAttributeWithBool()</button><br>
    <button onclick='setCustomAttributeWithArray();' style='margin-top: 10px'>setCustomAttributeWithArray()</button><br>
    <button onclick='setCustomAttributeWithDate();' style='margin-top: 10px'>setCustomAttributeWithDate()</button><br>
    <button onclick='setCustomAttributeWithDouble();' style='margin-top: 10px'>setCustomAttributeWithDouble()</button><br>
    <button onclick='addToCustomAttributeArray();' style='margin-top: 10px'>addToCustomAttributeArray()</button><br>
    <button onclick='removeFromCustomAttributeArray();' style='margin-top: 10px'>removeFromCustomAttributeArray()</button><br>
    <button onclick='inAppMessage();' style='margin-top: 10px'>inAppMessage()</button><br>
    <button onclick='googleLogin();' style='margin-top: 10px'>googleLogin()</button><br>
    <button onclick='test();' style='margin-top: 10px'>testAddCart()</button><br>
    <button onclick='schemeAppLink();' style='margin-top: 10px'>schemeAppLink()</button><br>
    <button onclick='schemeLink();' style='margin-top: 10px'>schemeLink()</button><br>
    <button onclick='schemeDownload();' style='margin-top: 10px'>schemeDownload()</button><br>
    <button onclick='shareFacebookLink();' style='margin-top: 10px'>shareFacebookLink()</button><br>
    <button onclick='test();' style='margin-top: 10px'>test()</button><br>
    <button onclick='copy();' style='margin-top: 10px'>copy()</button><br>
    <button onclick='historyBack();' style='margin-top: 10px'>historyBack()</button><br>

    <button onclick='checkUploadImage();' style='margin-top: 10px'>uploadImage()</button><br>
    
	<button onclick='appCall();' style='margin-top: 10px'>uploadImage()</button><br>

    파일명:<input type="file" name="fileName" type="jpeg">

    <img id="imgUploadImage">

</body>
</html>
